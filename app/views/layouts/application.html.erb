<!DOCTYPE html>
<html>
  <head>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <title><%= @title %> - Rails on Waves Surf Shop Dublin</title>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>

    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>   
    
    <!-- Latest compiled and minified CSS -->
    <!-- source: https://medium.com/@yli0607x/how-to-use-bootstrap-themes-on-ruby-on-rails-in-5-minutes-8e6f9542f6d8 --> 
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Bootstrap core CSS -->
    <link href="https://blackrockdigital.github.io/startbootstrap-grayscale/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="https://blackrockdigital.github.io/startbootstrap-grayscale/vendor/fontawesome-free/css/all.min.css" rel="stylesheet"
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="https://blackrockdigital.github.io/startbootstrap-grayscale/css/grayscale.min.css" rel="stylesheet">

        <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top navbar-shrink" id="mainNav">
      <div class="container">
        <a class="nav-item" href="/"><b>Home</b></a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
         <% if user_signed_in? %>
            <li style="color:black; padding-right: 50px">
            <a class="nav-link js-scroll-trigger">Logged in: <%= current_user.email %></a>
            </li>
            <%end %>

            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="/shop/products">Products</a>
            </li>
            <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="/about">About</a>
            </li>

            <!-- Custom nav bar items depending on log in state -->
            <% if user_signed_in? %>
            <li class="nav-item">
                <br>
                <%= link_to 'My Profile', signedinuserprofile_path %>
                <br>            
                </li>
            <li class="nav-item">
                <br>
                <%= link_to 'Sign out', destroy_user_session_path, :method => :delete %>
            </li>


            <% else %>
              <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="/users/sign_up">Register</a>
              </li>
              <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="/users/sign_in">Login</a>
              </li>
            <% end %>

          </ul>
        </div>
      </div>
    </nav>
  </head>

  <body>
       <p class="notice"><%= notice %></p>
       <p class="alert"><%= alert %></p>

    <%= yield %>
  </body>

    <!-- Footer -->
    <footer class="bg-black small text-center text-white-50">
    <div class="container">
      Copyright &copy; Rails on Waves 2019
    </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
  <script src="https://blackrockdigital.github.io/startbootstrap-grayscale/vendor/jquery/jquery.min.js"></script>
  <script src="https://blackrockdigital.github.io/startbootstrap-grayscale/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="https://blackrockdigital.github.io/startbootstrap-grayscale/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="https://blackrockdigital.github.io/startbootstrap-grayscale/js/grayscale.min.js"></script>

</html>
